<script setup lang="ts">
import { ref } from 'vue';

import { vPrint } from 'vue-print-next';

/**
 * url: è·¨åŸŸæ—¶æ— æ³•è¿›è¡Œæ‰“å°
 */
const printOps = {
  url: '/#/print-form',
  // preview: true,
  openCallback(){
    console.log('æ‰“å°ä¹‹å‰')
    isPrinting.value = true;
  },
  closeCallback(){
    console.log('æ‰“å°ä¹‹å')
    isPrinting.value = false;
  }
}

const isPrinting = ref(false);
</script>

<template>
  <div class="print-container fade-in">
    <h2 class="page-title">URLæ‰“å°ç¤ºä¾‹</h2>
    <p class="page-description">æœ¬ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨vue-print-nextç›´æ¥æ‰“å°æŒ‡å®šURLçš„å†…å®¹</p>
    
    <div class="card-container">
      <div class="print-options-card">
        <div class="card-header">
          <span class="card-icon">ğŸŒ</span>
          <h3>URLæ‰“å°é€‰é¡¹</h3>
        </div>
        <div class="card-content">
          <div class="help-text">
            <i class="tip-icon">ğŸ’¡</i> ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†æ‰“å° <a href="/#/print-form" class="link">/#/print-form</a> é¡µé¢çš„å†…å®¹
          </div>
          
          <div class="buttons-group">
            <button v-print="printOps" class="print-btn primary" :disabled="isPrinting">
              <span class="btn-icon" :class="{ 'loading': isPrinting }">{{ isPrinting ? 'â³' : 'ğŸ–¨ï¸' }}</span>
              {{ isPrinting ? 'æ‰“å°ä¸­...' : 'URLæ‰“å°' }}
            </button>
          </div>
        </div>
      </div>
      
      <div class="print-content">
        <h3 class="content-title">URLæ‰“å°è¯´æ˜</h3>
        <p>URLæ‰“å°åŠŸèƒ½å…è®¸æ‚¨ç›´æ¥æ‰“å°æŒ‡å®šURLçš„å†…å®¹ï¼Œæ— éœ€å…ˆåŠ è½½åˆ°å½“å‰é¡µé¢ã€‚</p>
        <p>æ³¨æ„äº‹é¡¹ï¼š</p>
        <ul>
          <li>è·¨åŸŸURLå¯èƒ½æ— æ³•æ­£å¸¸æ‰“å°</li>
          <li>URLå¿…é¡»æ˜¯åŒæºçš„ï¼Œæˆ–è€…ç›®æ ‡æœåŠ¡å™¨å…è®¸è·¨åŸŸè®¿é—®</li>
          <li>å¯ä»¥é€šè¿‡å›è°ƒå‡½æ•°ç›‘æ§æ‰“å°è¿‡ç¨‹</li>
        </ul>
        
        <div class="code-example">
          <h4>ç¤ºä¾‹ä»£ç ï¼š</h4>
          <pre><code>const printOps = {
  url: '/#/print-form',
  openCallback() {
    console.log('æ‰“å°å¼€å§‹')
  },
  closeCallback() {
    console.log('æ‰“å°ç»“æŸ')
  }
}</code></pre>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.code-example {
  background-color: var(--bg-light);
  border-radius: var(--border-radius-sm);
  padding: var(--spacing-md);
  margin-top: var(--spacing-md);
}

pre {
  margin: 0;
  overflow-x: auto;
}

code {
  font-family: monospace;
  color: var(--text-primary);
}

ul {
  padding-left: var(--spacing-lg);
  color: var(--text-secondary);
}

li {
  margin-bottom: var(--spacing-xs);
}

.link {
  color: var(--primary-color);
  text-decoration: none;
  transition: var(--transition-fast);
}

.link:hover {
  text-decoration: underline;
}
</style>
